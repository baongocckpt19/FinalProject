<body>
    <div class="dashboard-container">
        
        <!-- Main Content -->
        <div class="main-content">
            
            <!-- Dashboard Content -->
            <main class="dashboard-content">
                <!-- Page Header -->
                <div class="page-header">
                    <div class="page-title-section">
                        <h2 class="page-title">Quản lý điểm số</h2>
                        <p class="page-subtitle">Nhập và quản lý điểm số cho các lớp học</p>
                    </div>
                    
                    <div class="page-actions">
                        <button class="btn btn-success" onclick="exportGrades()">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                            </svg>
                            Xuất báo cáo
                        </button>
                        <button class="btn btn-primary" onclick="importGrades()">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                            </svg>
                            Nhập từ Excel
                        </button>
                    </div>
                </div>
                
                <!-- Class Selection -->
                <div class="class-selection">
                    <h3>Chọn lớp học để quản lý điểm</h3>
                    <div class="class-grid">
                        <div class="class-card" onclick="selectClass(1)">
                            <div class="class-card-header">
                                <div>
                                    <div class="class-name">Lập trình Web</div>
                                    <div class="class-code">IT301</div>
                                </div>
                            </div>
                            <div class="class-stats">
                                <div class="stat-item">
                                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zM4 18v-4h3v4h2v-7.5c0-.83.67-1.5 1.5-1.5S12 9.67 12 10.5V11h2.5c.83 0 1.5.67 1.5 1.5V18h2v4H4v-4z"/>
                                    </svg>
                                    45 SV
                                </div>
                                <div class="stat-item">
                                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                    </svg>
                                    Đã nhập điểm
                                </div>
                            </div>
                        </div>
                        
                        <div class="class-card" onclick="selectClass(2)">
                            <div class="class-card-header">
                                <div>
                                    <div class="class-name">Cơ sở dữ liệu</div>
                                    <div class="class-code">IT302</div>
                                </div>
                            </div>
                            <div class="class-stats">
                                <div class="stat-item">
                                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zM4 18v-4h3v4h2v-7.5c0-.83.67-1.5 1.5-1.5S12 9.67 12 10.5V11h2.5c.83 0 1.5.67 1.5 1.5V18h2v4H4v-4z"/>
                                    </svg>
                                    38 SV
                                </div>
                                <div class="stat-item">
                                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.11 3.89 23 5 23H19C20.11 23 21 22.11 21 21V9M19 21H5V3H14V9H19V21Z"/>
                                    </svg>
                                    Chưa nhập
                                </div>
                            </div>
                        </div>
                        
                        <div class="class-card" onclick="selectClass(3)">
                            <div class="class-card-header">
                                <div>
                                    <div class="class-name">Thuật toán</div>
                                    <div class="class-code">IT303</div>
                                </div>
                            </div>
                            <div class="class-stats">
                                <div class="stat-item">
                                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zM4 18v-4h3v4h2v-7.5c0-.83.67-1.5 1.5-1.5S12 9.67 12 10.5V11h2.5c.83 0 1.5.67 1.5 1.5V18h2v4H4v-4z"/>
                                    </svg>
                                    42 SV
                                </div>
                                <div class="stat-item">
                                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                    </svg>
                                    Đã nhập điểm
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Statistics -->
                <div class="stats-grid" id="statsGrid" style="display: none;">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Xuất sắc (8.5-10)</span>
                            <div class="stat-icon excellent">
                                <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="stat-value">12</div>
                        <div class="stat-change positive">
                            <svg width="12" height="12" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M7 14l5-5 5 5z"/>
                            </svg>
                            26.7%
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Giỏi (7.0-8.4)</span>
                            <div class="stat-icon good">
                                <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="stat-value">18</div>
                        <div class="stat-change positive">
                            <svg width="12" height="12" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M7 14l5-5 5 5z"/>
                            </svg>
                            40.0%
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Khá (5.5-6.9)</span>
                            <div class="stat-icon average">
                                <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="stat-value">10</div>
                        <div class="stat-change positive">
                            <svg width="12" height="12" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M7 14l5-5 5 5z"/>
                            </svg>
                            22.2%
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Yếu (<5.5) </span>
                            <div class="stat-icon poor">
                                <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="stat-value">5</div>
                        <div class="stat-change negative">
                            <svg width="12" height="12" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M7 10l5 5 5-5z"/>
                            </svg>
                            11.1%
                        </div>
                    </div>
                </div>
                
                <!-- Grade Management -->
                <div class="grade-management" id="gradeManagement">
                    <div class="grade-header">
                        <h3 id="selectedClassName">Lập trình Web - IT301</h3>
                        <div class="grade-actions">
                            <button class="btn btn-outline" onclick="saveAllGrades()">
                                <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/>
                                </svg>
                                Lưu tất cả
                            </button>
                            <button class="btn btn-primary" onclick="calculateFinalGrades()">
                                <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M19,3H5C3.9,3 3,3.9 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.9 20.1,3 19,3M13,13H11V10H13M13,17H11V15H13M17,13H15V10H17M17,17H15V15H17M9,13H7V10H9M9,17H7V15H9V17Z"/>
                                </svg>
                                Tính điểm tổng kết
                            </button>
                        </div>
                    </div>
                    
                    <div class="search-filter-bar">
                        <div class="search-box">
                            <svg class="search-icon" width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                            </svg>
                            <input type="text" id="studentSearchInput" placeholder="Tìm kiếm sinh viên..." class="search-input">
                        </div>
                        
                        <div class="filter-actions">
                            <button class="btn btn-outline" onclick="sortByGrade()">
                                <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"/>
                                </svg>
                                Sắp xếp theo điểm
                            </button>
                        </div>
                    </div>
                    
                    <div class="grade-table-container">
                        <table class="grade-table">
                            <thead>
                                <tr>
                                    <th>STT</th>
                                    <th>Sinh viên</th>
                                    <th>Điểm chuyên cần (10%)</th>
                                    <th>Điểm giữa kỳ (30%)</th>
                                    <th>Điểm cuối kỳ (60%)</th>
                                    <th>Điểm tổng kết</th>
                                    <th>Xếp hạng</th>
                                    <th>Thao tác</th>
                                </tr>
                            </thead>
                            <tbody id="gradeTableBody">
                                <tr>
                                    <td>1</td>
                                    <td>
                                        <div class="student-info">
                                            <div class="student-avatar">AN</div>
                                            <div class="student-details">
                                                <h4>Nguyễn Văn An</h4>
                                                <div class="student-id">SV001</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td><input type="number" class="grade-input good" value="8.5" min="0" max="10" step="0.1"></td>
                                    <td><input type="number" class="grade-input excellent" value="9.0" min="0" max="10" step="0.1"></td>
                                    <td><input type="number" class="grade-input excellent" value="8.8" min="0" max="10" step="0.1"></td>
                                    <td><div class="final-grade excellent">8.83</div></td>
                                    <td><div class="grade-rank">1</div></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn-icon btn-edit" onclick="editStudentGrade(1)" title="Chỉnh sửa">
                                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                                                </svg>
                                            </button>
                                            <button class="btn-icon btn-history" onclick="viewGradeHistory(1)" title="Lịch sử">
                                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M13,3A9,9 0 0,0 4,12H1L4.89,15.89L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3Z"/>
                                                </svg>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>
                                        <div class="student-info">
                                            <div class="student-avatar">BH</div>
                                            <div class="student-details">
                                                <h4>Trần Thị Bình</h4>
                                                <div class="student-id">SV002</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td><input type="number" class="grade-input excellent" value="9.0" min="0" max="10" step="0.1"></td>
                                    <td><input type="number" class="grade-input good" value="8.2" min="0" max="10" step="0.1"></td>
                                    <td><input type="number" class="grade-input good" value="8.5" min="0" max="10" step="0.1"></td>
                                    <td><div class="final-grade good">8.41</div></td>
                                    <td><div class="grade-rank">2</div></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn-icon btn-edit" onclick="editStudentGrade(2)" title="Chỉnh sửa">
                                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                                                </svg>
                                            </button>
                                            <button class="btn-icon btn-history" onclick="viewGradeHistory(2)" title="Lịch sử">
                                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M13,3A9,9 0 0,0 4,12H1L4.89,15.89L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3Z"/>
                                                </svg>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td>
                                        <div class="student-info">
                                            <div class="student-avatar">CD</div>
                                            <div class="student-details">
                                                <h4>Lê Văn Cường</h4>
                                                <div class="student-id">SV003</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td><input type="number" class="grade-input good" value="7.5" min="0" max="10" step="0.1"></td>
                                    <td><input type="number" class="grade-input good" value="7.8" min="0" max="10" step="0.1"></td>
                                    <td><input type="number" class="grade-input good" value="8.0" min="0" max="10" step="0.1"></td>
                                    <td><div class="final-grade good">7.89</div></td>
                                    <td><div class="grade-rank">3</div></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn-icon btn-edit" onclick="editStudentGrade(3)" title="Chỉnh sửa">
                                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                                                </svg>
                                            </button>
                                            <button class="btn-icon btn-history" onclick="viewGradeHistory(3)" title="Lịch sử">
                                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M13,3A9,9 0 0,0 4,12H1L4.89,15.89L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3Z"/>
                                                </svg>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td>
                                        <div class="student-info">
                                            <div class="student-avatar">DH</div>
                                            <div class="student-details">
                                                <h4>Phạm Thị Dung</h4>
                                                <div class="student-id">SV004</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td><input type="number" class="grade-input average" value="6.0" min="0" max="10" step="0.1"></td>
                                    <td><input type="number" class="grade-input average" value="6.5" min="0" max="10" step="0.1"></td>
                                    <td><input type="number" class="grade-input good" value="7.2" min="0" max="10" step="0.1"></td>
                                    <td><div class="final-grade average">6.89</div></td>
                                    <td><div class="grade-rank">4</div></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn-icon btn-edit" onclick="editStudentGrade(4)" title="Chỉnh sửa">
                                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                                                </svg>
                                            </button>
                                            <button class="btn-icon btn-history" onclick="viewGradeHistory(4)" title="Lịch sử">
                                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M13,3A9,9 0 0,0 4,12H1L4.89,15.89L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3Z"/>
                                                </svg>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>5</td>
                                    <td>
                                        <div class="student-info">
                                            <div class="student-avatar">EK</div>
                                            <div class="student-details">
                                                <h4>Hoàng Văn Em</h4>
                                                <div class="student-id">SV005</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td><input type="number" class="grade-input poor" value="4.5" min="0" max="10" step="0.1"></td>
                                    <td><input type="number" class="grade-input poor" value="5.0" min="0" max="10" step="0.1"></td>
                                    <td><input type="number" class="grade-input average" value="5.8" min="0" max="10" step="0.1"></td>
                                    <td><div class="final-grade poor">5.39</div></td>
                                    <td><div class="grade-rank">5</div></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn-icon btn-edit" onclick="editStudentGrade(5)" title="Chỉnh sửa">
                                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                                                </svg>
                                            </button>
                                            <button class="btn-icon btn-history" onclick="viewGradeHistory(5)" title="Lịch sử">
                                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M13,3A9,9 0 0,0 4,12H1L4.89,15.89L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3Z"/>
                                                </svg>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </main>
        </div>
    </div>
</body>